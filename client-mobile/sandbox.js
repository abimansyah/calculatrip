const data =[
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/50x50.png/dddddd/000000",
      "name": "Restaurants",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 5000,
    "createdAt": "2022-02-22T06:32:47.796Z",
    "description": "trip expense",
    "expenseCategoryId": 1,
    "expenseDate": "2022-01-02T00:00:00.000Z",
    "id": 1,
    "location": "Indonesia",
    "name": "expense name",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T06:32:47.796Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/188x100.png/5fa2dd/ffffff",
      "name": "Transportation",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/248x100.png/dddddd/000000",
      "name": "Credit Card",
    },
    "User": {
      "email": "usertwo@gmail.com",
      "id": 2,
      "username": "userTwo",
    },
    "amount": 6000,
    "createdAt": "2022-02-22T06:32:47.796Z",
    "description": "trip expense",
    "expenseCategoryId": 2,
    "expenseDate": "2022-01-02T00:00:00.000Z",
    "id": 2,
    "location": "Indonesia",
    "name": "expense name",
    "paymentMethodId": 2,
    "tripId": 1,
    "updatedAt": "2022-02-22T06:32:47.796Z",
    "userId": 2,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/200x100.png/5fa2dd/ffffff",
      "name": "Accommodation",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "userthree@gmail.com",
      "id": 3,
      "username": "userThree",
    },
    "amount": 5000,
    "createdAt": "2022-02-22T06:32:47.796Z",
    "description": "trip expense",
    "expenseCategoryId": 3,
    "expenseDate": "2022-01-02T00:00:00.000Z",
    "id": 3,
    "location": "Indonesia",
    "name": "expense",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T06:32:47.796Z",
    "userId": 3,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/180x100.png/cc0000/ffffff",
      "name": "Groceries",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "userfour@gmail.com",
      "id": 4,
      "username": "userFour",
    },
    "amount": 5000,
    "createdAt": "2022-02-22T06:32:47.796Z",
    "description": "trip expense",
    "expenseCategoryId": 4,
    "expenseDate": "2022-01-02T00:00:00.000Z",
    "id": 4,
    "location": "Indonesia",
    "name": "expense name",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T06:32:47.796Z",
    "userId": 4,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "userfive@slashdot.org",
      "id": 5,
      "username": "userFive",
    },
    "amount": 5000,
    "createdAt": "2022-02-22T06:32:47.796Z",
    "description": "trip expense",
    "expenseCategoryId": 5,
    "expenseDate": "2022-01-02T00:00:00.000Z",
    "id": 5,
    "location": "Indonesia",
    "name": "expense name",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T06:32:47.796Z",
    "userId": 5,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 12000,
    "createdAt": "2022-02-22T13:29:13.291Z",
    "description": "ayo deskripsikan",
    "expenseCategoryId": 5,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 26,
    "location": null,
    "name": "ngopi kuy",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:29:13.291Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 15000,
    "createdAt": "2022-02-22T13:33:28.434Z",
    "description": "komik keren",
    "expenseCategoryId": 5,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 27,
    "location": null,
    "name": "beli komik",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:33:28.434Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 15000,
    "createdAt": "2022-02-22T13:34:33.437Z",
    "description": "komik keren",
    "expenseCategoryId": 5,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 28,
    "location": null,
    "name": "beli komik 2",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:34:33.437Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 15000,
    "createdAt": "2022-02-22T13:34:46.950Z",
    "description": "komik keren",
    "expenseCategoryId": 5,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 29,
    "location": null,
    "name": "beli komik 2",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:34:46.950Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/119x100.png/ff4444/ffffff",
      "name": "Coffee",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 15000,
    "createdAt": "2022-02-22T13:35:35.436Z",
    "description": "komik keren",
    "expenseCategoryId": 5,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 30,
    "location": null,
    "name": "beli komik 3",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:35:35.436Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/211x100.png/5fa2dd/ffffff",
      "name": "Shopping",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/169x100.png/cc0000/ffffff",
      "name": "Cash",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 1200,
    "createdAt": "2022-02-22T13:55:54.672Z",
    "description": "sdasdasdasd",
    "expenseCategoryId": 9,
    "expenseDate": "2022-01-09T17:00:00.000Z",
    "id": 31,
    "location": null,
    "name": "add more expense",
    "paymentMethodId": 1,
    "tripId": 1,
    "updatedAt": "2022-02-22T13:55:54.672Z",
    "userId": 1,
  },
  {
    "ExpenseCategory": {
      "icon": "http://dummyimage.com/50x50.png/dddddd/000000",
      "name": "Restaurants",
    },
    "PaymentMethod": {
      "icon": "http://dummyimage.com/248x100.png/dddddd/000000",
      "name": "Credit Card",
    },
    "User": {
      "email": "user@gmail.com",
      "id": 1,
      "username": "userone",
    },
    "amount": 12000,
    "createdAt": "2022-02-22T14:08:57.601Z",
    "description": "Gzvsbb",
    "expenseCategoryId": 1,
    "expenseDate": "2021-12-24T17:00:00.000Z",
    "id": 33,
    "location": null,
    "name": "Test oct",
    "paymentMethodId": 2,
    "tripId": 1,
    "updatedAt": "2022-02-22T14:08:57.601Z",
    "userId": 1,
  },
]
let chartData = []
const newCartData = () => {
  data.forEach(el => {
    if (chartData.length === 0) {
      chartData.push({
        name: el.ExpenseCategory.name,
        amount: el.amount
      })
    } else {
      const findone = chartData.findIndex(elm => elm.name === el.ExpenseCategory.name);
      if (findone >= 0) {
        chartData[findone].amount += el.amount
      } else {
        chartData.push({
          name: el.ExpenseCategory.name,
          amount: el.amount
        })
      }
    }
  });
  //handlechart
}
newCartData()
console.log(chartData);